# üß† Smart Intake: Cross-Functional Task Breakdown

| #   | Assignee                        | Description                                                                                                                                                                                                                                                                                             | Key Acceptance Criteria                                                                                                               | Confidence Rule | Suppress Question? | Notes |
| --- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- | ---------------- | ------------------- | ----- |
| **1** | **Claude (Code)**               | üîß **Variable-scope hot-fix** (already merged) <br>Fixes scoping bug in `generateSmartQuestions()` so `gbpData`, `coords`, `existingDataScore` are available throughout the function.                                                                             | ‚úÖ No 500s on `/api/intelligence/questions`.                                                                                          |                  |                     |       |
| **2** | **Claude (Code)**               | üîÅ **Pull *real* GBP record into test page** <br>‚Ä¢ Add input on `/dev/test-smart-wins` to accept a GBP `locationId` or Place ID <br>‚Ä¢ Call `/api/gbp/location/[id]` ‚Üí pass to `analyze` + `questions`                                                            | ‚úÖ ID paste shows auto-filled card and correct smart intake logic                                                                    |                  |                     |       |
| **3** | **New ‚ÄúData-Digger‚Äù Dev**       | üß© **Audit GBP ‚Üí Smart-Intake field mapping** <br>Map all GBP fields to Smart Intake equivalents. Create table: <br>`GBP field` ‚Üí `Our field` ‚Üí `Confidence rule` ‚Üí `Suppress question?`                                                                         | ‚úÖ Table exists as `docs/GBP_field_mapping.md`                                                                                        | ‚úÖ Required      | ‚úÖ Required          |       |
| **4** | **Claude (Code)**               | üß† **Wire mapped fields into suppression logic** <br>‚Ä¢ Use field mapping table <br>‚Ä¢ Drop questions if confidence ‚â• threshold <br>‚Ä¢ Handle service-area-only listings (no street addr) by calculating centroid for radius/zone logic                            | ‚úÖ Phoenix (rich): ‚â§2 questions <br>‚úÖ Service-area listing gets climate zone + radius                                                | ‚úÖ               | ‚úÖ                   |       |
| **5** | **Any Dev**                     | üß™ **End-to-end test with 3 real listings** <br>‚Ä¢ Use your GBP: rich, partial, sparse <br>‚Ä¢ Screenshot & count questions <br>‚Ä¢ Log in `smart-intake-test-results.md` or verbally with Holliday                                                                   | ‚úÖ Decreasing Q counts: rich < partial < sparse                                                                                       |                  |                     |       |
| **6** | **Holliday (You)**              | ‚úÖ **Final gut-check** <br>Click through cases (Phoenix, Boston, Houston) and answer: _‚ÄúWould I happily fill this out?‚Äù_                                                                                                                                        | ‚úÖ üëç or request tweaks                                                                                                               |                  |                     |       |

